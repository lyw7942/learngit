# **ğŸ Git ç´§æ€¥ Bug ä¿®å¤ï¼šä¸­æ–­å½“å‰å·¥ä½œ â†’ ä¿® Bug â†’ æ¢å¤ç°åœº â†’ åŒæ­¥ä¿®å¤**

## **ğŸ“Œ è¿™ç¯‡æ–‡ç« æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ**

æœ¬æ–‡ä»‹ç» **å¦‚ä½•åœ¨æ‰‹å¤´å·¥ä½œæœªå®Œæˆæ—¶ï¼Œå®‰å…¨ã€é«˜æ•ˆåœ°å¤„ç†ç´§æ€¥ bug ä¿®å¤ä»»åŠ¡**ã€‚
åˆ©ç”¨ `git stash` æš‚å­˜å½“å‰è¿›åº¦ï¼Œç”¨ç‹¬ç«‹åˆ†æ”¯ä¿®å¤ bugï¼Œå†é€šè¿‡ `git cherry-pick` å°†ä¿®å¤åŒæ­¥åˆ°å…¶ä»–åˆ†æ”¯ï¼Œ**é¿å…é‡å¤åŠ³åŠ¨**ã€‚

é€‚ç”¨äºï¼šçº¿ä¸Šæ•…éšœã€å®¢æˆ·ç´§æ€¥åé¦ˆã€å®‰å…¨æ¼æ´ç­‰éœ€ç«‹å³å“åº”çš„åœºæ™¯ã€‚

------

## **ğŸ¯ ä½¿ç”¨åœºæ™¯**

- æ­£åœ¨ `dev` åˆ†æ”¯å¼€å‘æ–°åŠŸèƒ½ï¼Œä»£ç æœªå®Œæˆã€æ— æ³•æäº¤
- çªç„¶éœ€è¦ä¿®å¤ `main`ï¼ˆæˆ– `master`ï¼‰åˆ†æ”¯ä¸Šçš„ä¸¥é‡ bug
- ä¿®å¤åï¼Œè¿˜éœ€å°†ç›¸åŒæ”¹åŠ¨åº”ç”¨åˆ° `dev` æˆ–å…¶ä»–é•¿æœŸåˆ†æ”¯
- ä¸æƒ³æäº¤åŠæˆå“ï¼Œä¹Ÿä¸æ„¿æ‰‹åŠ¨é‡å¤ä¿®æ”¹

> ğŸ’¡ æ ¸å¿ƒå·¥å…·ï¼š`stash`ï¼ˆæš‚å­˜ç°åœºï¼‰ + `cherry-pick`ï¼ˆå¤åˆ¶æäº¤ï¼‰

------

## **ğŸ› ï¸ æ ‡å‡†æ“ä½œæµç¨‹**

```shell
# 1. å‚¨è—å½“å‰æœªå®Œæˆçš„å·¥ä½œï¼ˆdev åˆ†æ”¯ä¸Šï¼‰
git stash

# 2. åˆ‡æ¢åˆ°ä¸»å¹²ï¼Œåˆ›å»º bug ä¿®å¤åˆ†æ”¯
git switch main
git switch -c issue-101

# 3. ä¿®å¤ bug å¹¶æäº¤
# ï¼ˆä¿®æ”¹æ–‡ä»¶ï¼‰
git add .
git commit -m "fix: resolve issue #101"

# 4. åˆå¹¶åˆ°ä¸»å¹²å¹¶æ¸…ç†
git switch main
git merge --no-ff -m "fix: merge issue #101" issue-101
git branch -d issue-101

# 5. å›åˆ°åŸå¼€å‘åˆ†æ”¯ï¼Œæ¢å¤å·¥ä½œç°åœº
git switch dev
git stash pop

# 6. å°†ä¿®å¤â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼ˆé¿å…é‡å¤ä¿®æ”¹ï¼‰
git cherry-pick <commit-id>   # å¦‚ 4c805e2
```

> âœ… `<commit-id>` æ˜¯ä½ åœ¨ `issue-101` åˆ†æ”¯ä¸Šä¿®å¤ bug çš„é‚£æ¬¡æäº¤ ID

------

## **ğŸš€ æ—¥å¸¸å·¥ä½œæµ Â· æç®€æŒ‡ä»¤æ±‡æ€»**

bash



```shell
# ä¸­æ–­å½“å‰å·¥ä½œ
git stash

# ä¿® bug
git switch main
git switch -c fix/urgent-bug
# ... ä¿®å¤ ...
git add .
git commit -m "fix: urgent bug"
git switch main
git merge --no-ff -m "fix: urgent" fix/urgent-bug
git branch -d fix/urgent-bug

# æ¢å¤å¹¶åŒæ­¥
git switch dev
git stash pop
git cherry-pick <fix-commit-id>
```

> âœ… æäº¤ ID å¯é€šè¿‡ `git log --oneline -1` åœ¨ä¿®å¤åˆ†æ”¯ä¸Šè·å–

------

## **âš ï¸ ç‰¹æ®Šæƒ…å†µå¤„ç†**

```shell
# æŸ¥çœ‹æ‰€æœ‰ stash è®°å½•ï¼ˆæ”¯æŒå¤šæ¬¡ stashï¼‰
git stash list

# æ¢å¤æŒ‡å®š stashï¼ˆä¸åˆ é™¤ï¼‰
git stash apply stash@{1}

# æ‰‹åŠ¨åˆ é™¤æŸä¸ª stash
git stash drop stash@{0}

# cherry-pick æ—¶å‘ç”Ÿå†²çªï¼Ÿ
# â†’ æ‰‹åŠ¨è§£å†³å†²çª â†’ git add . â†’ git cherry-pick --continue

# æ”¾å¼ƒ cherry-pick
git cherry-pick --abort

# å¦‚æœ dev å·²åŒ…å«éƒ¨åˆ†ä¿®æ”¹ï¼Œcherry-pick å¯èƒ½å¤±è´¥
# â†’ æ”¹ç”¨æ‰‹åŠ¨åˆå¹¶æˆ– rebase
```

> ğŸ’¡ æç¤ºï¼š
>
> - `git stash` é»˜è®¤åªä¿å­˜**å·²è·Ÿè¸ªæ–‡ä»¶**çš„ä¿®æ”¹ï¼Œæœªè·Ÿè¸ªæ–‡ä»¶ï¼ˆå¦‚æ–°å»ºçš„ `.log`ï¼‰ä¸ä¼šè¢« stash
> - è‹¥éœ€ stash æœªè·Ÿè¸ªæ–‡ä»¶ï¼š`git stash -u`
> - `cherry-pick` ç”Ÿæˆçš„æ˜¯**æ–°æäº¤**ï¼Œcommit ID ä¸åŒï¼Œä½†æ”¹åŠ¨å†…å®¹ä¸€è‡´

------

> âœ… **è®°ä½å£è¯€**ï¼š
> **â€œä¿® bug å…ˆ stashï¼Œåˆ†æ”¯éš”ç¦»æ¥ä¿®å¤ï¼›
> ä¿®å®Œ pop å›ç°åœºï¼Œcherry-pick åŒæ­¥å®ƒã€‚â€**